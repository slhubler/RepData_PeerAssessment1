---
title: "Reproducible Research - Project 1"
author: "Shane L Hubler, PhD"
date: "Tuesday, August 12, 2014"
output: html_document
---

# Preliminaries
## Constant(s) used later:

```{r Constants}
FILE_HTTP = "https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"
```

## Utility functions:
```{r Utilities}
convert_interval_to_time <- function(x) {
    x.str = sprintf("%04i",x)
    x.time = strptime(x=x.str,format="%H%M",tz="UTC")
    return(x.time)
}
```

## Loading
Data is downloaded using from the link provided in the project description.
The data is loaded directly into memory - the file is not saved on disk.

```{r Loading, cache=TRUE,echo=TRUE}
# Thanks to stackoverflow.com for this structure of unzipping files (#3053833).
# It downloads the file straight to memory without saving the zip to disk.
temp = tempfile()
download.file(url = FILE_HTTP, destfile = temp)
data = read.csv(unz(temp,"activity.csv"))
unlink(temp)
#setwd(DATA_DIR)

```

## Preprocessing
"date" and "interval" are converted to "day" and "time" (POSIX formats).
Note that the column labeled "interval" is a time formatted as HHMM, which
makes it awkward for plotting and requiring more complex handling.

```{r Preprocessing}
data$day = strptime(x=data$date,format="%Y-%m-%d",tz="UTC")
data$time = lapply(X = data$interval, FUN = convert_interval_to_time)
```

# Steps per day

# Daily pattern

# Imputing missing values

# Weekdays vs. Weekends